---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Percy.
--- DateTime: 2024/12/25
---
local ant_path_matcher = require("src.ant_path_matcher")
ant_path_matcher = ant_path_matcher:instance();

local pattern = "/bla/**/bla"
local url = "/bla/testing/testing/bla"
local compare = ant_path_matcher:match(pattern, url)
local expect = true
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))

pattern = "/jd/a?c"
url = "/jd/abc"
compare = ant_path_matcher:match(pattern, url)
expect = true
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))

pattern = "/jd/a?c"
url = "/jd/ac"
compare = ant_path_matcher:match(pattern, url)
expect = false
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))

pattern = "/jd/a?c"
url = "/jd/axyzc"
compare = ant_path_matcher:match(pattern, url)
expect = false
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))

pattern = "/jd/a*c"
url = "/jd/ac"
compare = ant_path_matcher:match(pattern, url)
expect = true
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))


pattern = "/jd/a*c"
url = "/jd/abc"
compare = ant_path_matcher:match(pattern, url)
expect = true
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))


pattern = "/jd/a*c"
url = "/jd/axyzc"
compare = ant_path_matcher:match(pattern, url)
expect = true
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))


pattern = "/jd/a*c"
url = "/jd/a"
compare = ant_path_matcher:match(pattern, url)
expect = false
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))

pattern = "**"
url = ""
compare = ant_path_matcher:match(pattern, url)
expect = true
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))


pattern = "test"
url = "test"
compare = ant_path_matcher:match(pattern, url)
expect = true
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))

pattern = "/test"
url = "/test"
compare = ant_path_matcher:match(pattern, url)
expect = true
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))


pattern = "https://example.org"
url = "https://example.org"
compare = ant_path_matcher:match(pattern, url)
expect = true
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))


pattern = "/test.jpg"
url = "test.jpg"
compare = ant_path_matcher:match(pattern, url)
expect = true
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))

pattern = "t?st"
url = "test"
compare = ant_path_matcher:match(pattern, url)
expect = true
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))

pattern = "??st"
url = "test"
compare = ant_path_matcher:match(pattern, url)
expect = true
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))

pattern = "tes?"
url = "test"
compare = ant_path_matcher:match(pattern, url)
expect = true
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))

pattern = "te??"
url = "test"
compare = ant_path_matcher:match(pattern, url)
expect = true
print("pattern: " .. pattern ..", url: " .. url ..", compare: " .. tostring(compare) .. ", expect: " .. tostring(expect) .. " | approved: " .. tostring(expect == compare))



